{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"unauthorized\"\n};\nconst _hoisted_2 = {\n  class: \"message-container\"\n};\nconst _hoisted_3 = {\n  class: \"alert alert-danger\"\n};\nconst _hoisted_4 = {\n  key: 0\n};\nconst _hoisted_5 = {\n  key: 1,\n  class: \"debug-info\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  class: \"fix-instructions\"\n};\nconst _hoisted_7 = {\n  class: \"actions\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[13] || (_cache[13] = _createElementVNode(\"h1\", null, \"Unauthorized Access\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_cache[11] || (_cache[11] = _createElementVNode(\"p\", null, \"You do not have permission to access this page.\", -1 /* HOISTED */)), $options.requiredRole ? (_openBlock(), _createElementBlock(\"p\", _hoisted_4, [_cache[3] || (_cache[3] = _createTextVNode(\"This feature is only available to users with \")), _createElementVNode(\"strong\", null, _toDisplayString($options.requiredRole), 1 /* TEXT */), _cache[4] || (_cache[4] = _createTextVNode(\" role.\"))])) : _createCommentVNode(\"v-if\", true), $data.showDebugInfo ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_cache[9] || (_cache[9] = _createElementVNode(\"h3\", null, \"Debug Information\", -1 /* HOISTED */)), _createElementVNode(\"p\", null, [_cache[5] || (_cache[5] = _createTextVNode(\"Your current role: \")), _createElementVNode(\"strong\", null, _toDisplayString($options.userStatus || 'None'), 1 /* TEXT */)]), _createElementVNode(\"p\", null, [_cache[6] || (_cache[6] = _createTextVNode(\"Your user ID: \")), _createElementVNode(\"strong\", null, _toDisplayString($options.userId || 'Unknown'), 1 /* TEXT */)]), _cache[10] || (_cache[10] = _createElementVNode(\"p\", null, \"If you believe this is an error, please contact the administrator.\", -1 /* HOISTED */)), $options.userId === '18' || $options.userId === '20' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [_createElementVNode(\"h4\", null, \"Special Instructions for User ID \" + _toDisplayString($options.userId), 1 /* TEXT */), _cache[7] || (_cache[7] = _createElementVNode(\"p\", null, \"As a special user, you should have headman privileges. Try the following:\", -1 /* HOISTED */)), _cache[8] || (_cache[8] = _createElementVNode(\"ol\", null, [_createElementVNode(\"li\", null, \"Log out and log back in\"), _createElementVNode(\"li\", null, \"Clear your browser cache and cookies\"), _createElementVNode(\"li\", null, \"Click the button below to update your status\")], -1 /* HOISTED */)), _createElementVNode(\"button\", {\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.updateStatus && $options.updateStatus(...args)),\n    class: \"btn btn-warning\"\n  }, \"Update My Status to Headman\")])) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"button\", {\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.toggleDebugInfo && $options.toggleDebugInfo(...args)),\n    class: \"btn btn-secondary\"\n  }, _toDisplayString($data.showDebugInfo ? 'Hide Debug Info' : 'Show Debug Info'), 1 /* TEXT */), _createVNode(_component_router_link, {\n    to: \"/\",\n    class: \"btn btn-primary\"\n  }, {\n    default: _withCtx(() => _cache[12] || (_cache[12] = [_createTextVNode(\"Return to Home\")])),\n    _: 1 /* STABLE */\n  }), _createElementVNode(\"button\", {\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.logout && $options.logout(...args)),\n    class: \"btn btn-danger\"\n  }, \"Logout\")])])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","$options","requiredRole","_hoisted_4","_createTextVNode","_toDisplayString","_createCommentVNode","$data","showDebugInfo","_hoisted_5","userStatus","userId","_hoisted_6","onClick","_cache","args","updateStatus","_hoisted_7","toggleDebugInfo","_createVNode","_component_router_link","to","default","_withCtx","_","logout"],"sources":["C:\\Users\\ADMIN\\Mooban\\frontend\\src\\views\\UnauthorizedView.vue"],"sourcesContent":["<template>\r\n  <div class=\"unauthorized\">\r\n    <h1>Unauthorized Access</h1>\r\n    <div class=\"message-container\">\r\n      <div class=\"alert alert-danger\">\r\n        <p>You do not have permission to access this page.</p>\r\n        <p v-if=\"requiredRole\">This feature is only available to users with <strong>{{ requiredRole }}</strong> role.</p>\r\n        <div v-if=\"showDebugInfo\" class=\"debug-info\">\r\n          <h3>Debug Information</h3>\r\n          <p>Your current role: <strong>{{ userStatus || 'None' }}</strong></p>\r\n          <p>Your user ID: <strong>{{ userId || 'Unknown' }}</strong></p>\r\n          <p>If you believe this is an error, please contact the administrator.</p>\r\n          <div class=\"fix-instructions\" v-if=\"userId === '18' || userId === '20'\">\r\n            <h4>Special Instructions for User ID {{ userId }}</h4>\r\n            <p>As a special user, you should have headman privileges. Try the following:</p>\r\n            <ol>\r\n              <li>Log out and log back in</li>\r\n              <li>Clear your browser cache and cookies</li>\r\n              <li>Click the button below to update your status</li>\r\n            </ol>\r\n            <button @click=\"updateStatus\" class=\"btn btn-warning\">Update My Status to Headman</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"actions\">\r\n        <button @click=\"toggleDebugInfo\" class=\"btn btn-secondary\">\r\n          {{ showDebugInfo ? 'Hide Debug Info' : 'Show Debug Info' }}\r\n        </button>\r\n        <router-link to=\"/\" class=\"btn btn-primary\">Return to Home</router-link>\r\n        <button @click=\"logout\" class=\"btn btn-danger\">Logout</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'UnauthorizedView',\r\n  data() {\r\n    return {\r\n      showDebugInfo: false\r\n    }\r\n  },\r\n  computed: {\r\n    requiredRole() {\r\n      return this.$route.query.requiredRole || '';\r\n    },\r\n    userStatus() {\r\n      return this.$route.query.userStatus || localStorage.getItem('status') || localStorage.getItem('userStatus') || '';\r\n    },\r\n    userId() {\r\n      return this.$route.query.userId || localStorage.getItem('userId') || '';\r\n    }\r\n  },\r\n  methods: {\r\n    toggleDebugInfo() {\r\n      this.showDebugInfo = !this.showDebugInfo;\r\n    },\r\n    logout() {\r\n      localStorage.removeItem('token');\r\n      localStorage.removeItem('userId');\r\n      localStorage.removeItem('email');\r\n      localStorage.removeItem('status');\r\n      localStorage.removeItem('userStatus');\r\n      this.$router.push('/login');\r\n    },\r\n    updateStatus() {\r\n      // Update status in localStorage\r\n      localStorage.setItem('status', 'headman');\r\n      \r\n      // Show success message\r\n      alert('Status updated to headman. Redirecting to home page...');\r\n      \r\n      // Redirect to home\r\n      this.$router.push('/');\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.unauthorized {\r\n  max-width: 600px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n}\r\n\r\n.message-container {\r\n  background-color: #f8f9fa;\r\n  border-radius: 8px;\r\n  padding: 20px;\r\n  margin-top: 20px;\r\n}\r\n\r\n.alert {\r\n  padding: 15px;\r\n  border-radius: 4px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.alert-danger {\r\n  background-color: #f8d7da;\r\n  border: 1px solid #f5c6cb;\r\n  color: #721c24;\r\n}\r\n\r\n.debug-info {\r\n  margin-top: 20px;\r\n  padding: 15px;\r\n  background-color: #f0f0f0;\r\n  border-radius: 4px;\r\n  border-left: 4px solid #007bff;\r\n}\r\n\r\n.fix-instructions {\r\n  margin-top: 15px;\r\n  padding: 15px;\r\n  background-color: #fff3cd;\r\n  border-radius: 4px;\r\n  border-left: 4px solid #ffc107;\r\n}\r\n\r\n.actions {\r\n  margin-top: 20px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.btn {\r\n  display: inline-block;\r\n  font-weight: 400;\r\n  text-align: center;\r\n  white-space: nowrap;\r\n  vertical-align: middle;\r\n  user-select: none;\r\n  border: 1px solid transparent;\r\n  padding: 0.375rem 0.75rem;\r\n  font-size: 1rem;\r\n  line-height: 1.5;\r\n  border-radius: 0.25rem;\r\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n}\r\n\r\n.btn-primary {\r\n  color: #fff;\r\n  background-color: #007bff;\r\n  border-color: #007bff;\r\n}\r\n\r\n.btn-secondary {\r\n  color: #fff;\r\n  background-color: #6c757d;\r\n  border-color: #6c757d;\r\n}\r\n\r\n.btn-danger {\r\n  color: #fff;\r\n  background-color: #dc3545;\r\n  border-color: #dc3545;\r\n}\r\n\r\n.btn-warning {\r\n  color: #212529;\r\n  background-color: #ffc107;\r\n  border-color: #ffc107;\r\n}\r\n\r\n.btn:hover {\r\n  opacity: 0.9;\r\n}\r\n</style>"],"mappings":";;EACOA,KAAK,EAAC;AAAc;;EAElBA,KAAK,EAAC;AAAmB;;EACvBA,KAAK,EAAC;AAAoB;;EAJrCC,GAAA;AAAA;;EAAAA,GAAA;EAOkCD,KAAK,EAAC;;;EAPxCC,GAAA;EAYeD,KAAK,EAAC;;;EAYVA,KAAK,EAAC;AAAS;;;uBAvBxBE,mBAAA,CA+BM,OA/BNC,UA+BM,G,4BA9BJC,mBAAA,CAA4B,YAAxB,qBAAmB,sBACvBA,mBAAA,CA4BM,OA5BNC,UA4BM,GA3BJD,mBAAA,CAmBM,OAnBNE,UAmBM,G,4BAlBJF,mBAAA,CAAsD,WAAnD,iDAA+C,sBACzCG,QAAA,CAAAC,YAAY,I,cAArBN,mBAAA,CAAiH,KANzHO,UAAA,G,0BAAAC,gBAAA,CAM+B,+CAA6C,IAAAN,mBAAA,CAAmC,gBAAAO,gBAAA,CAAxBJ,QAAA,CAAAC,YAAY,kB,0BANnGE,gBAAA,CAM+G,QAAM,G,KANrHE,mBAAA,gBAOmBC,KAAA,CAAAC,aAAa,I,cAAxBZ,mBAAA,CAeM,OAfNa,UAeM,G,0BAdJX,mBAAA,CAA0B,YAAtB,mBAAiB,sBACrBA,mBAAA,CAAqE,Y,0BAT/EM,gBAAA,CASa,qBAAmB,IAAAN,mBAAA,CAA2C,gBAAAO,gBAAA,CAAhCJ,QAAA,CAAAS,UAAU,2B,GAC3CZ,mBAAA,CAA+D,Y,0BAVzEM,gBAAA,CAUa,gBAAc,IAAAN,mBAAA,CAA0C,gBAAAO,gBAAA,CAA/BJ,QAAA,CAAAU,MAAM,8B,+BAClCb,mBAAA,CAAyE,WAAtE,oEAAkE,sBACjCG,QAAA,CAAAU,MAAM,aAAaV,QAAA,CAAAU,MAAM,a,cAA7Df,mBAAA,CASM,OATNgB,UASM,GARJd,mBAAA,CAAsD,YAAlD,mCAAiC,GAAAO,gBAAA,CAAGJ,QAAA,CAAAU,MAAM,kB,0BAC9Cb,mBAAA,CAAgF,WAA7E,2EAAyE,sB,0BAC5EA,mBAAA,CAIK,aAHHA,mBAAA,CAAgC,YAA5B,yBAAuB,GAC3BA,mBAAA,CAA6C,YAAzC,sCAAoC,GACxCA,mBAAA,CAAqD,YAAjD,8CAA4C,E,sBAElDA,mBAAA,CAA0F;IAAjFe,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEd,QAAA,CAAAe,YAAA,IAAAf,QAAA,CAAAe,YAAA,IAAAD,IAAA,CAAY;IAAErB,KAAK,EAAC;KAAkB,6BAA2B,E,KApB7FY,mBAAA,e,KAAAA,mBAAA,e,GAwBMR,mBAAA,CAMM,OANNmB,UAMM,GALJnB,mBAAA,CAES;IAFAe,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEd,QAAA,CAAAiB,eAAA,IAAAjB,QAAA,CAAAiB,eAAA,IAAAH,IAAA,CAAe;IAAErB,KAAK,EAAC;sBAClCa,KAAA,CAAAC,aAAa,0DAElBW,YAAA,CAAwEC,sBAAA;IAA3DC,EAAE,EAAC,GAAG;IAAC3B,KAAK,EAAC;;IA5BlC4B,OAAA,EAAAC,QAAA,CA4BoD,MAAcT,MAAA,SAAAA,MAAA,QA5BlEV,gBAAA,CA4BoD,gBAAc,E;IA5BlEoB,CAAA;MA6BQ1B,mBAAA,CAA8D;IAArDe,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEd,QAAA,CAAAwB,MAAA,IAAAxB,QAAA,CAAAwB,MAAA,IAAAV,IAAA,CAAM;IAAErB,KAAK,EAAC;KAAiB,QAAM,E","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}