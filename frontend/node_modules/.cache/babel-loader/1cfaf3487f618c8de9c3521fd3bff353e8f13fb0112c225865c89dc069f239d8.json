{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, vModelSelect as _vModelSelect, withDirectives as _withDirectives, vModelText as _vModelText, normalizeClass as _normalizeClass, createTextVNode as _createTextVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"transaction-history-container\"\n};\nconst _hoisted_2 = {\n  class: \"filters\"\n};\nconst _hoisted_3 = {\n  class: \"filter-group\"\n};\nconst _hoisted_4 = [\"value\"];\nconst _hoisted_5 = {\n  class: \"filter-group\"\n};\nconst _hoisted_6 = {\n  class: \"filter-group\"\n};\nconst _hoisted_7 = {\n  class: \"date-range\"\n};\nconst _hoisted_8 = {\n  class: \"summary\"\n};\nconst _hoisted_9 = {\n  class: \"summary-card\"\n};\nconst _hoisted_10 = {\n  class: \"summary-value\"\n};\nconst _hoisted_11 = {\n  class: \"summary-card\"\n};\nconst _hoisted_12 = {\n  class: \"summary-value disbursement\"\n};\nconst _hoisted_13 = {\n  class: \"summary-card\"\n};\nconst _hoisted_14 = {\n  class: \"summary-value repayment\"\n};\nconst _hoisted_15 = {\n  class: \"table-container\"\n};\nconst _hoisted_16 = {\n  class: \"transaction-table\"\n};\nconst _hoisted_17 = {\n  key: 0\n};\nconst _hoisted_18 = {\n  key: 1\n};\nconst _hoisted_19 = {\n  key: 0,\n  class: \"pagination\"\n};\nconst _hoisted_20 = {\n  class: \"page-info\"\n};\nconst _hoisted_21 = {\n  class: \"export-actions\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[31] || (_cache[31] = _createElementVNode(\"h1\", null, \"ประวัติการกู้ยืมและชำระเงินกู้\", -1 /* HOISTED */)), _createCommentVNode(\" ตัวกรองข้อมูล \"), _createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_cache[14] || (_cache[14] = _createElementVNode(\"label\", {\n    for: \"member-filter\"\n  }, \"กรองตามสมาชิก\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    id: \"member-filter\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.memberFilter = $event)\n  }, [_cache[13] || (_cache[13] = _createElementVNode(\"option\", {\n    value: \"\"\n  }, \"ทั้งหมด\", -1 /* HOISTED */)), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.uniqueMembers, member => {\n    return _openBlock(), _createElementBlock(\"option\", {\n      key: member.member_id,\n      value: member.member_id\n    }, _toDisplayString(member.name), 9 /* TEXT, PROPS */, _hoisted_4);\n  }), 128 /* KEYED_FRAGMENT */))], 512 /* NEED_PATCH */), [[_vModelSelect, $data.memberFilter]])]), _createElementVNode(\"div\", _hoisted_5, [_cache[16] || (_cache[16] = _createElementVNode(\"label\", {\n    for: \"type-filter\"\n  }, \"กรองตามประเภทธุรกรรม\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"select\", {\n    id: \"type-filter\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.typeFilter = $event)\n  }, _cache[15] || (_cache[15] = [_createElementVNode(\"option\", {\n    value: \"\"\n  }, \"ทั้งหมด\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"loan_repayment\"\n  }, \"ชำระเงินกู้\", -1 /* HOISTED */), _createElementVNode(\"option\", {\n    value: \"loan_disbursement\"\n  }, \"รับเงินกู้\", -1 /* HOISTED */)]), 512 /* NEED_PATCH */), [[_vModelSelect, $data.typeFilter]])]), _createElementVNode(\"div\", _hoisted_6, [_cache[18] || (_cache[18] = _createElementVNode(\"label\", {\n    for: \"date-filter\"\n  }, \"กรองตามวันที่\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_7, [_withDirectives(_createElementVNode(\"input\", {\n    type: \"date\",\n    id: \"date-from\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.dateFrom = $event),\n    placeholder: \"จาก\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.dateFrom]]), _cache[17] || (_cache[17] = _createElementVNode(\"span\", null, \"ถึง\", -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"date\",\n    id: \"date-to\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.dateTo = $event),\n    placeholder: \"ถึง\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.dateTo]])])]), _createElementVNode(\"button\", {\n    class: \"btn-reset\",\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.resetFilters && $options.resetFilters(...args))\n  }, \"รีเซ็ตตัวกรอง\")]), _createCommentVNode(\" สรุปข้อมูล \"), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_cache[19] || (_cache[19] = _createElementVNode(\"div\", {\n    class: \"summary-title\"\n  }, \"จำนวนธุรกรรมทั้งหมด\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_10, _toDisplayString($options.filteredTransactions.length), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_11, [_cache[20] || (_cache[20] = _createElementVNode(\"div\", {\n    class: \"summary-title\"\n  }, \"ยอดรับเงินกู้รวม\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_12, _toDisplayString($options.formatCurrency($options.totalDisbursement)), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_13, [_cache[21] || (_cache[21] = _createElementVNode(\"div\", {\n    class: \"summary-title\"\n  }, \"ยอดชำระเงินกู้รวม\", -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_14, _toDisplayString($options.formatCurrency($options.totalRepayment)), 1 /* TEXT */)])]), _createCommentVNode(\" ตารางแสดงข้อมูล \"), _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"table\", _hoisted_16, [_createElementVNode(\"thead\", null, [_createElementVNode(\"tr\", null, [_createElementVNode(\"th\", {\n    onClick: _cache[5] || (_cache[5] = $event => $options.sortBy('transaction_id'))\n  }, [_cache[22] || (_cache[22] = _createTextVNode(\" รหัสธุรกรรม \")), $data.sortKey === 'transaction_id' ? (_openBlock(), _createElementBlock(\"span\", {\n    key: 0,\n    class: _normalizeClass($data.sortOrder === 1 ? 'sort-asc' : 'sort-desc')\n  }, null, 2 /* CLASS */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"th\", {\n    onClick: _cache[6] || (_cache[6] = $event => $options.sortBy('name'))\n  }, [_cache[23] || (_cache[23] = _createTextVNode(\" ชื่อสมาชิก \")), $data.sortKey === 'name' ? (_openBlock(), _createElementBlock(\"span\", {\n    key: 0,\n    class: _normalizeClass($data.sortOrder === 1 ? 'sort-asc' : 'sort-desc')\n  }, null, 2 /* CLASS */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"th\", {\n    onClick: _cache[7] || (_cache[7] = $event => $options.sortBy('transaction_status'))\n  }, [_cache[24] || (_cache[24] = _createTextVNode(\" ประเภทธุรกรรม \")), $data.sortKey === 'transaction_status' ? (_openBlock(), _createElementBlock(\"span\", {\n    key: 0,\n    class: _normalizeClass($data.sortOrder === 1 ? 'sort-asc' : 'sort-desc')\n  }, null, 2 /* CLASS */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"th\", {\n    onClick: _cache[8] || (_cache[8] = $event => $options.sortBy('amount'))\n  }, [_cache[25] || (_cache[25] = _createTextVNode(\" จำนวนเงิน \")), $data.sortKey === 'amount' ? (_openBlock(), _createElementBlock(\"span\", {\n    key: 0,\n    class: _normalizeClass($data.sortOrder === 1 ? 'sort-asc' : 'sort-desc')\n  }, null, 2 /* CLASS */)) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"th\", {\n    onClick: _cache[9] || (_cache[9] = $event => $options.sortBy('transaction_date'))\n  }, [_cache[26] || (_cache[26] = _createTextVNode(\" วันที่ทำรายการ \")), $data.sortKey === 'transaction_date' ? (_openBlock(), _createElementBlock(\"span\", {\n    key: 0,\n    class: _normalizeClass($data.sortOrder === 1 ? 'sort-asc' : 'sort-desc')\n  }, null, 2 /* CLASS */)) : _createCommentVNode(\"v-if\", true)]), _cache[27] || (_cache[27] = _createElementVNode(\"th\", null, \"ผู้บันทึกรายการ\", -1 /* HOISTED */))])]), _createElementVNode(\"tbody\", null, [$data.loading ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_17, _cache[28] || (_cache[28] = [_createElementVNode(\"td\", {\n    colspan: \"6\",\n    class: \"loading\"\n  }, \"กำลังโหลดข้อมูล...\", -1 /* HOISTED */)]))) : $options.filteredTransactions.length === 0 ? (_openBlock(), _createElementBlock(\"tr\", _hoisted_18, _cache[29] || (_cache[29] = [_createElementVNode(\"td\", {\n    colspan: \"6\",\n    class: \"no-data\"\n  }, \"ไม่พบข้อมูลธุรกรรม\", -1 /* HOISTED */)]))) : _createCommentVNode(\"v-if\", true), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.paginatedTransactions, transaction => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: transaction.transaction_id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(transaction.transaction_id), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(transaction.name), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString($options.formatTransactionType(transaction.transaction_status)), 1 /* TEXT */), _createElementVNode(\"td\", {\n      class: _normalizeClass($options.getAmountClass(transaction.transaction_status))\n    }, _toDisplayString($options.formatCurrency(transaction.amount)), 3 /* TEXT, CLASS */), _createElementVNode(\"td\", null, _toDisplayString($options.formatDate(transaction.transaction_date)), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString($options.getCreatorName(transaction.created_by)), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])])]), _createCommentVNode(\" การแบ่งหน้า \"), $options.totalPages > 1 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_19, [_createElementVNode(\"button\", {\n    class: _normalizeClass([\"page-btn\", {\n      disabled: $data.currentPage === 1\n    }]),\n    onClick: _cache[10] || (_cache[10] = $event => $data.currentPage > 1 && $data.currentPage--)\n  }, \" « ก่อนหน้า \", 2 /* CLASS */), _createElementVNode(\"div\", _hoisted_20, \" หน้า \" + _toDisplayString($data.currentPage) + \" จาก \" + _toDisplayString($options.totalPages), 1 /* TEXT */), _createElementVNode(\"button\", {\n    class: _normalizeClass([\"page-btn\", {\n      disabled: $data.currentPage === $options.totalPages\n    }]),\n    onClick: _cache[11] || (_cache[11] = $event => $data.currentPage < $options.totalPages && $data.currentPage++)\n  }, \" ถัดไป » \", 2 /* CLASS */)])) : _createCommentVNode(\"v-if\", true), _createCommentVNode(\" ปุ่มพิมพ์รายงาน \"), _createElementVNode(\"div\", _hoisted_21, [_createElementVNode(\"button\", {\n    class: \"btn-export\",\n    onClick: _cache[12] || (_cache[12] = (...args) => $options.exportToPDF && $options.exportToPDF(...args))\n  }, _cache[30] || (_cache[30] = [_createElementVNode(\"i\", {\n    class: \"fas fa-file-pdf\"\n  }, null, -1 /* HOISTED */), _createTextVNode(\" พิมพ์รายงาน PDF \")]))])]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_createCommentVNode","_hoisted_2","_hoisted_3","for","id","_cache","$event","$data","memberFilter","value","_Fragment","_renderList","$options","uniqueMembers","member","member_id","name","_hoisted_4","_hoisted_5","typeFilter","_hoisted_6","_hoisted_7","type","dateFrom","placeholder","dateTo","onClick","args","resetFilters","_hoisted_8","_hoisted_9","_hoisted_10","_toDisplayString","filteredTransactions","length","_hoisted_11","_hoisted_12","formatCurrency","totalDisbursement","_hoisted_13","_hoisted_14","totalRepayment","_hoisted_15","_hoisted_16","sortBy","_createTextVNode","sortKey","_normalizeClass","sortOrder","loading","_hoisted_17","colspan","_hoisted_18","paginatedTransactions","transaction","transaction_id","formatTransactionType","transaction_status","getAmountClass","amount","formatDate","transaction_date","getCreatorName","created_by","totalPages","_hoisted_19","disabled","currentPage","_hoisted_20","_hoisted_21","exportToPDF"],"sources":["C:\\Users\\HP\\Documents\\GitHub\\Mooban\\frontend\\src\\views\\LoanTransactionHistory.vue"],"sourcesContent":["<template>\r\n  <div class=\"transaction-history-container\">\r\n    <h1>ประวัติการกู้ยืมและชำระเงินกู้</h1>\r\n    \r\n    <!-- ตัวกรองข้อมูล -->\r\n    <div class=\"filters\">\r\n      <div class=\"filter-group\">\r\n        <label for=\"member-filter\">กรองตามสมาชิก</label>\r\n        <select id=\"member-filter\" v-model=\"memberFilter\">\r\n          <option value=\"\">ทั้งหมด</option>\r\n          <option v-for=\"member in uniqueMembers\" :key=\"member.member_id\" :value=\"member.member_id\">\r\n            {{ member.name }}\r\n          </option>\r\n        </select>\r\n      </div>\r\n      \r\n      <div class=\"filter-group\">\r\n        <label for=\"type-filter\">กรองตามประเภทธุรกรรม</label>\r\n        <select id=\"type-filter\" v-model=\"typeFilter\">\r\n          <option value=\"\">ทั้งหมด</option>\r\n          <option value=\"loan_repayment\">ชำระเงินกู้</option>\r\n          <option value=\"loan_disbursement\">รับเงินกู้</option>\r\n        </select>\r\n      </div>\r\n      \r\n      <div class=\"filter-group\">\r\n        <label for=\"date-filter\">กรองตามวันที่</label>\r\n        <div class=\"date-range\">\r\n          <input type=\"date\" id=\"date-from\" v-model=\"dateFrom\" placeholder=\"จาก\">\r\n          <span>ถึง</span>\r\n          <input type=\"date\" id=\"date-to\" v-model=\"dateTo\" placeholder=\"ถึง\">\r\n        </div>\r\n      </div>\r\n      \r\n      <button class=\"btn-reset\" @click=\"resetFilters\">รีเซ็ตตัวกรอง</button>\r\n    </div>\r\n    \r\n    <!-- สรุปข้อมูล -->\r\n    <div class=\"summary\">\r\n      <div class=\"summary-card\">\r\n        <div class=\"summary-title\">จำนวนธุรกรรมทั้งหมด</div>\r\n        <div class=\"summary-value\">{{ filteredTransactions.length }}</div>\r\n      </div>\r\n      \r\n      <div class=\"summary-card\">\r\n        <div class=\"summary-title\">ยอดรับเงินกู้รวม</div>\r\n        <div class=\"summary-value disbursement\">{{ formatCurrency(totalDisbursement) }}</div>\r\n      </div>\r\n      \r\n      <div class=\"summary-card\">\r\n        <div class=\"summary-title\">ยอดชำระเงินกู้รวม</div>\r\n        <div class=\"summary-value repayment\">{{ formatCurrency(totalRepayment) }}</div>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- ตารางแสดงข้อมูล -->\r\n    <div class=\"table-container\">\r\n      <table class=\"transaction-table\">\r\n        <thead>\r\n          <tr>\r\n            <th @click=\"sortBy('transaction_id')\">\r\n              รหัสธุรกรรม\r\n              <span v-if=\"sortKey === 'transaction_id'\" :class=\"sortOrder === 1 ? 'sort-asc' : 'sort-desc'\"></span>\r\n            </th>\r\n            <th @click=\"sortBy('name')\">\r\n              ชื่อสมาชิก\r\n              <span v-if=\"sortKey === 'name'\" :class=\"sortOrder === 1 ? 'sort-asc' : 'sort-desc'\"></span>\r\n            </th>\r\n            <th @click=\"sortBy('transaction_status')\">\r\n              ประเภทธุรกรรม\r\n              <span v-if=\"sortKey === 'transaction_status'\" :class=\"sortOrder === 1 ? 'sort-asc' : 'sort-desc'\"></span>\r\n            </th>\r\n            <th @click=\"sortBy('amount')\">\r\n              จำนวนเงิน\r\n              <span v-if=\"sortKey === 'amount'\" :class=\"sortOrder === 1 ? 'sort-asc' : 'sort-desc'\"></span>\r\n            </th>\r\n            <th @click=\"sortBy('transaction_date')\">\r\n              วันที่ทำรายการ\r\n              <span v-if=\"sortKey === 'transaction_date'\" :class=\"sortOrder === 1 ? 'sort-asc' : 'sort-desc'\"></span>\r\n            </th>\r\n            <th>ผู้บันทึกรายการ</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-if=\"loading\">\r\n            <td colspan=\"6\" class=\"loading\">กำลังโหลดข้อมูล...</td>\r\n          </tr>\r\n          <tr v-else-if=\"filteredTransactions.length === 0\">\r\n            <td colspan=\"6\" class=\"no-data\">ไม่พบข้อมูลธุรกรรม</td>\r\n          </tr>\r\n          <tr v-for=\"transaction in paginatedTransactions\" :key=\"transaction.transaction_id\">\r\n            <td>{{ transaction.transaction_id }}</td>\r\n            <td>{{ transaction.name }}</td>\r\n            <td>{{ formatTransactionType(transaction.transaction_status) }}</td>\r\n            <td :class=\"getAmountClass(transaction.transaction_status)\">\r\n              {{ formatCurrency(transaction.amount) }}\r\n            </td>\r\n            <td>{{ formatDate(transaction.transaction_date) }}</td>\r\n            <td>{{ getCreatorName(transaction.created_by) }}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    \r\n    <!-- การแบ่งหน้า -->\r\n    <div class=\"pagination\" v-if=\"totalPages > 1\">\r\n      <button \r\n        class=\"page-btn\" \r\n        :class=\"{ disabled: currentPage === 1 }\"\r\n        @click=\"currentPage > 1 && (currentPage--)\"\r\n      >\r\n        &laquo; ก่อนหน้า\r\n      </button>\r\n      \r\n      <div class=\"page-info\">\r\n        หน้า {{ currentPage }} จาก {{ totalPages }}\r\n      </div>\r\n      \r\n      <button \r\n        class=\"page-btn\" \r\n        :class=\"{ disabled: currentPage === totalPages }\"\r\n        @click=\"currentPage < totalPages && (currentPage++)\"\r\n      >\r\n        ถัดไป &raquo;\r\n      </button>\r\n    </div>\r\n    \r\n    <!-- ปุ่มพิมพ์รายงาน -->\r\n    <div class=\"export-actions\">\r\n      <button class=\"btn-export\" @click=\"exportToPDF\">\r\n        <i class=\"fas fa-file-pdf\"></i> พิมพ์รายงาน PDF\r\n      </button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport api from '@/services/api';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      transactions: [],\r\n      users: {},\r\n      loading: true,\r\n      memberFilter: '',\r\n      typeFilter: '',\r\n      dateFrom: '',\r\n      dateTo: '',\r\n      sortKey: 'transaction_date',\r\n      sortOrder: -1, // -1 for descending, 1 for ascending\r\n      currentPage: 1,\r\n      itemsPerPage: 10\r\n    };\r\n  },\r\n  computed: {\r\n    uniqueMembers() {\r\n      const members = [];\r\n      const memberIds = new Set();\r\n      \r\n      this.transactions.forEach(transaction => {\r\n        if (!memberIds.has(transaction.member_id)) {\r\n          memberIds.add(transaction.member_id);\r\n          members.push({\r\n            member_id: transaction.member_id,\r\n            name: transaction.name\r\n          });\r\n        }\r\n      });\r\n      \r\n      return members.sort((a, b) => a.name.localeCompare(b.name));\r\n    },\r\n    filteredTransactions() {\r\n      return this.transactions.filter(transaction => {\r\n        // Only include loan-related transactions\r\n        if (transaction.transaction_status !== 'loan_repayment' && transaction.transaction_status !== 'loan_disbursement') {\r\n          return false;\r\n        }\r\n        \r\n        // Filter by member\r\n        if (this.memberFilter && transaction.member_id !== parseInt(this.memberFilter)) {\r\n          return false;\r\n        }\r\n        \r\n        // Filter by transaction type\r\n        if (this.typeFilter && transaction.transaction_status !== this.typeFilter) {\r\n          return false;\r\n        }\r\n        \r\n        // Filter by date range\r\n        if (this.dateFrom || this.dateTo) {\r\n          const transactionDate = new Date(transaction.transaction_date);\r\n          \r\n          if (this.dateFrom) {\r\n            const fromDate = new Date(this.dateFrom);\r\n            if (transactionDate < fromDate) {\r\n              return false;\r\n            }\r\n          }\r\n          \r\n          if (this.dateTo) {\r\n            const toDate = new Date(this.dateTo);\r\n            toDate.setHours(23, 59, 59, 999); // End of the day\r\n            if (transactionDate > toDate) {\r\n              return false;\r\n            }\r\n          }\r\n        }\r\n        \r\n        return true;\r\n      }).sort((a, b) => {\r\n        let valueA = a[this.sortKey];\r\n        let valueB = b[this.sortKey];\r\n        \r\n        // Handle special case for sorting by name\r\n        if (this.sortKey === 'name') {\r\n          valueA = a.name.toLowerCase();\r\n          valueB = b.name.toLowerCase();\r\n        }\r\n        \r\n        // Handle date sorting\r\n        if (this.sortKey === 'transaction_date') {\r\n          valueA = new Date(valueA).getTime();\r\n          valueB = new Date(valueB).getTime();\r\n        }\r\n        \r\n        if (valueA < valueB) return -1 * this.sortOrder;\r\n        if (valueA > valueB) return 1 * this.sortOrder;\r\n        return 0;\r\n      });\r\n    },\r\n    paginatedTransactions() {\r\n      const start = (this.currentPage - 1) * this.itemsPerPage;\r\n      const end = start + this.itemsPerPage;\r\n      return this.filteredTransactions.slice(start, end);\r\n    },\r\n    totalPages() {\r\n      return Math.ceil(this.filteredTransactions.length / this.itemsPerPage);\r\n    },\r\n    totalDisbursement() {\r\n      // ตรวจสอบและแสดงข้อมูลเพื่อการแก้ไขปัญหา\r\n      const disbursementTransactions = this.filteredTransactions.filter(t => t.transaction_status === 'loan_disbursement');\r\n      console.log('Disbursement transactions:', disbursementTransactions);\r\n\r\n      // ตรวจสอบว่ามีธุรกรรมรับเงินกู้หรือไม่\r\n      if (disbursementTransactions.length === 0) {\r\n        console.log('No loan disbursement transactions found');\r\n        return 0;\r\n      }\r\n\r\n      // คำนวณยอดรวมโดยตรวจสอบและแปลงค่าให้ถูกต้อง\r\n      return disbursementTransactions.reduce((sum, t) => {\r\n        // ตรวจสอบว่า amount เป็นค่าที่ถูกต้องหรือไม่\r\n        const amount = t.amount !== undefined && t.amount !== null ? t.amount : 0;\r\n\r\n        // แปลงเป็นตัวเลขและตรวจสอบว่าเป็นตัวเลขที่ถูกต้องหรือไม่\r\n        const parsedAmount = parseFloat(amount);\r\n\r\n        if (isNaN(parsedAmount)) {\r\n          console.error('Invalid amount value:', amount, 'in transaction:', t);\r\n          return sum;\r\n        }\r\n\r\n        console.log('Adding amount:', parsedAmount, 'from transaction:', t.transaction_id);\r\n        return sum + parsedAmount;\r\n      }, 0);\r\n    },\r\n    totalRepayment() {\r\n      // ตรวจสอบและแสดงข้อมูลเพื่อการแก้ไขปัญหา\r\n      const repaymentTransactions = this.filteredTransactions.filter(t => t.transaction_status === 'loan_repayment');\r\n      console.log('Repayment transactions:', repaymentTransactions);\r\n\r\n      // ตรวจสอบว่ามีธุรกรรมชำระเงินกู้หรือไม่\r\n      if (repaymentTransactions.length === 0) {\r\n        console.log('No loan repayment transactions found');\r\n        return 0;\r\n      }\r\n\r\n      // คำนวณยอดรวมโดยตรวจสอบและแปลงค่าให้ถูกต้อง\r\n      return repaymentTransactions.reduce((sum, t) => {\r\n        // ตรวจสอบว่า amount เป็นค่าที่ถูกต้องหรือไม่\r\n        const amount = t.amount !== undefined && t.amount !== null ? t.amount : 0;\r\n\r\n        // แปลงเป็นตัวเลขและตรวจสอบว่าเป็นตัวเลขที่ถูกต้องหรือไม่\r\n        const parsedAmount = parseFloat(amount);\r\n\r\n        if (isNaN(parsedAmount)) {\r\n          console.error('Invalid amount value:', amount, 'in transaction:', t);\r\n          return sum;\r\n        }\r\n\r\n        console.log('Adding amount:', parsedAmount, 'from transaction:', t.transaction_id);\r\n        return sum + parsedAmount;\r\n      }, 0);\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchTransactions();\r\n    this.fetchUsers();\r\n  },\r\n  methods: {\r\n    async fetchTransactions() {\r\n      this.loading = true;\r\n      try {\r\n        const response = await api.getAllTransactions();\r\n        console.log('All transactions data:', response.data);\r\n\r\n        // ตรวจสอบว่าข้อมูลที่ได้รับมาถูกต้องหรือไม่\r\n        if (!response.data || !Array.isArray(response.data)) {\r\n          console.error('Invalid transactions data format:', response.data);\r\n          alert('ข้อมูลธุรกรรมไม่ถูกต้อง');\r\n          this.transactions = [];\r\n          return;\r\n        }\r\n\r\n        // ตรวจสอบและแสดงข้อมูลธุรกรรมเงินกู้\r\n        const loanTransactions = response.data.filter(t =>\r\n          t.transaction_status === 'loan_disbursement' || t.transaction_status === 'loan_repayment'\r\n        );\r\n        console.log('Loan transactions:', loanTransactions);\r\n\r\n        // ตรวจสอบว่ามีธุรกรรมเงินกู้หรือไม่\r\n        if (loanTransactions.length === 0) {\r\n          console.log('No loan transactions found');\r\n        }\r\n\r\n        // ตรวจสอบและแก้ไขข้อมูล amount ที่อาจไม่ถูกต้อง\r\n        this.transactions = response.data.map(transaction => {\r\n          // ตรวจสอบว่า amount เป็นค่าที่ถูกต้องหรือไม่\r\n          if (transaction.amount === undefined || transaction.amount === null) {\r\n            console.error('Transaction with undefined or null amount:', transaction);\r\n            transaction.amount = 0;\r\n          } else if (typeof transaction.amount === 'string') {\r\n            // แปลงค่า amount จาก string เป็น number\r\n            const parsedAmount = parseFloat(transaction.amount);\r\n            if (isNaN(parsedAmount)) {\r\n              console.error('Transaction with invalid amount string:', transaction);\r\n              transaction.amount = 0;\r\n            } else {\r\n              transaction.amount = parsedAmount;\r\n            }\r\n          }\r\n          return transaction;\r\n        });\r\n      } catch (error) {\r\n        console.error('Error fetching transactions:', error);\r\n        alert('ไม่สามารถดึงข้อมูลธุรกรรมได้');\r\n        this.transactions = [];\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    async fetchUsers() {\r\n      try {\r\n        const response = await api.getAllUsers();\r\n        const users = response.data.users;\r\n        \r\n        // Create a map of user IDs to names\r\n        this.users = users.reduce((map, user) => {\r\n          map[user.user_id] = `${user.first_name} ${user.last_name}`;\r\n          return map;\r\n        }, {});\r\n      } catch (error) {\r\n        console.error('Error fetching users:', error);\r\n      }\r\n    },\r\n    sortBy(key) {\r\n      if (this.sortKey === key) {\r\n        this.sortOrder = -this.sortOrder;\r\n      } else {\r\n        this.sortKey = key;\r\n        this.sortOrder = 1;\r\n      }\r\n      \r\n      // Reset to first page when sorting changes\r\n      this.currentPage = 1;\r\n    },\r\n    resetFilters() {\r\n      this.memberFilter = '';\r\n      this.typeFilter = '';\r\n      this.dateFrom = '';\r\n      this.dateTo = '';\r\n      this.currentPage = 1;\r\n    },\r\n    formatCurrency(value) {\r\n      if (value === undefined || value === null) return '0.00 บาท';\r\n      \r\n      return new Intl.NumberFormat('th-TH', {\r\n        style: 'currency',\r\n        currency: 'THB',\r\n        minimumFractionDigits: 2\r\n      }).format(value);\r\n    },\r\n    formatDate(dateString) {\r\n      if (!dateString) return '';\r\n      \r\n      const date = new Date(dateString);\r\n      return date.toLocaleDateString('th-TH', {\r\n        year: 'numeric',\r\n        month: 'long',\r\n        day: 'numeric',\r\n        hour: '2-digit',\r\n        minute: '2-digit'\r\n      });\r\n    },\r\n    formatTransactionType(type) {\r\n      switch (type) {\r\n        case 'loan_repayment':\r\n          return 'ชำระเงินกู้';\r\n        case 'loan_disbursement':\r\n          return 'รับเงินกู้';\r\n        default:\r\n          return type;\r\n      }\r\n    },\r\n    getAmountClass(type) {\r\n      switch (type) {\r\n        case 'loan_disbursement':\r\n          return 'amount-positive';\r\n        case 'loan_repayment':\r\n          return 'amount-negative';\r\n        default:\r\n          return '';\r\n      }\r\n    },\r\n    getCreatorName(userId) {\r\n      return this.users[userId] || `ผู้ใช้ #${userId}`;\r\n    },\r\n    exportToPDF() {\r\n      // Create a new window for printing\r\n      const printWindow = window.open('', '_blank');\r\n      \r\n      if (!printWindow) {\r\n        alert('กรุณาอนุญาตให้เปิดหน้าต่างป๊อปอัพเพื่อพิมพ์เอกสาร');\r\n        return;\r\n      }\r\n      \r\n      // Prepare data for the report\r\n      const title = 'รายงานการกู้ยืมและชำระเงินกู้';\r\n      const date = new Date().toLocaleDateString('th-TH', {\r\n        year: 'numeric',\r\n        month: 'long',\r\n        day: 'numeric'\r\n      });\r\n      \r\n      // Create filters description\r\n      let filtersText = 'ทั้งหมด';\r\n      if (this.memberFilter) {\r\n        const member = this.uniqueMembers.find(m => m.member_id === parseInt(this.memberFilter));\r\n        filtersText = `สมาชิก: ${member ? member.name : this.memberFilter}`;\r\n      }\r\n      if (this.typeFilter) {\r\n        filtersText += ` | ประเภท: ${this.formatTransactionType(this.typeFilter)}`;\r\n      }\r\n      if (this.dateFrom || this.dateTo) {\r\n        filtersText += ` | วันที่: ${this.dateFrom || '-'} ถึง ${this.dateTo || '-'}`;\r\n      }\r\n      \r\n      // Create HTML content for the print window\r\n      let htmlContent = `\r\n        <!DOCTYPE html>\r\n        <html>\r\n        <head>\r\n          <title>${title}</title>\r\n          <meta charset=\"utf-8\">\r\n          <style>\r\n            body {\r\n              font-family: 'Sarabun', sans-serif;\r\n              margin: 20px;\r\n              line-height: 1.5;\r\n            }\r\n            h1 {\r\n              text-align: center;\r\n              margin-bottom: 10px;\r\n            }\r\n            .report-info {\r\n              text-align: right;\r\n              margin-bottom: 20px;\r\n            }\r\n            .filters {\r\n              margin-bottom: 20px;\r\n              padding: 10px;\r\n              background-color: #f5f5f5;\r\n              border-radius: 5px;\r\n            }\r\n            .summary {\r\n              display: flex;\r\n              justify-content: space-between;\r\n              margin-bottom: 20px;\r\n            }\r\n            .summary-card {\r\n              flex: 1;\r\n              padding: 10px;\r\n              border: 1px solid #ddd;\r\n              border-radius: 5px;\r\n              text-align: center;\r\n              margin: 0 5px;\r\n            }\r\n            .summary-title {\r\n              font-weight: bold;\r\n              margin-bottom: 5px;\r\n            }\r\n            .disbursement {\r\n              color: #4CAF50;\r\n            }\r\n            .repayment {\r\n              color: #f44336;\r\n            }\r\n            table {\r\n              width: 100%;\r\n              border-collapse: collapse;\r\n              margin-bottom: 20px;\r\n            }\r\n            th, td {\r\n              border: 1px solid #ddd;\r\n              padding: 8px;\r\n              text-align: left;\r\n            }\r\n            th {\r\n              background-color: #f2f2f2;\r\n              font-weight: bold;\r\n            }\r\n            .amount-positive {\r\n              color: #4CAF50;\r\n            }\r\n            .amount-negative {\r\n              color: #f44336;\r\n            }\r\n            .footer {\r\n              text-align: center;\r\n              margin-top: 30px;\r\n              font-size: 14px;\r\n              color: #666;\r\n            }\r\n            @media print {\r\n              .no-print {\r\n                display: none;\r\n              }\r\n            }\r\n          </style>\r\n        </head>\r\n        <body>\r\n          <h1>${title}</h1>\r\n          \r\n          <div class=\"report-info\">\r\n            <p>วันที่พิมพ์: ${date}</p>\r\n          </div>\r\n          \r\n          <div class=\"filters\">\r\n            <strong>ตัวกรอง:</strong> ${filtersText}\r\n          </div>\r\n          \r\n          <div class=\"summary\">\r\n            <div class=\"summary-card\">\r\n              <div class=\"summary-title\">จำนวนธุรกรรม</div>\r\n              <div>${this.filteredTransactions.length} รายการ</div>\r\n            </div>\r\n            \r\n            <div class=\"summary-card\">\r\n              <div class=\"summary-title\">ยอดรับเงินกู้รวม</div>\r\n              <div class=\"disbursement\">${this.formatCurrency(this.totalDisbursement)}</div>\r\n            </div>\r\n            \r\n            <div class=\"summary-card\">\r\n              <div class=\"summary-title\">ยอดชำระเงินกู้รวม</div>\r\n              <div class=\"repayment\">${this.formatCurrency(this.totalRepayment)}</div>\r\n            </div>\r\n          </div>\r\n          \r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>รหัสธุรกรรม</th>\r\n                <th>ชื่อสมาชิก</th>\r\n                <th>ประเภทธุรกรรม</th>\r\n                <th>จำนวนเงิน</th>\r\n                <th>วันที่ทำรายการ</th>\r\n                <th>ผู้บันทึกรายการ</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n      `;\r\n      \r\n      // Add table rows\r\n      this.filteredTransactions.forEach(transaction => {\r\n        htmlContent += `\r\n          <tr>\r\n            <td>${transaction.transaction_id}</td>\r\n            <td>${transaction.name}</td>\r\n            <td>${this.formatTransactionType(transaction.transaction_status)}</td>\r\n            <td class=\"${this.getAmountClass(transaction.transaction_status)}\">\r\n              ${this.formatCurrency(transaction.amount)}\r\n            </td>\r\n            <td>${this.formatDate(transaction.transaction_date)}</td>\r\n            <td>${this.getCreatorName(transaction.created_by)}</td>\r\n          </tr>\r\n        `;\r\n      });\r\n      \r\n      // Close the table and add footer\r\n      htmlContent += `\r\n            </tbody>\r\n          </table>\r\n          \r\n          <div class=\"footer\">\r\n            <p>รายงานนี้สร้างขึ้นโดยระบบจัดการธุรกรรมทางการเงิน</p>\r\n          </div>\r\n          \r\n          <div class=\"no-print\" style=\"text-align: center; margin-top: 20px;\">\r\n            <button onclick=\"window.print();\" style=\"padding: 10px 20px; background-color: #4CAF50; color: white; border: none; border-radius: 4px; cursor: pointer;\">พิมพ์รายงาน</button>\r\n            <button onclick=\"window.close();\" style=\"padding: 10px 20px; background-color: #f44336; color: white; border: none; border-radius: 4px; cursor: pointer; margin-left: 10px;\">ปิด</button>\r\n          </div>\r\n        </body>\r\n        </html>\r\n      `;\r\n      \r\n      // Write the HTML content to the new window\r\n      printWindow.document.open();\r\n      printWindow.document.write(htmlContent);\r\n      printWindow.document.close();\r\n    }\r\n  },\r\n  watch: {\r\n    // Reset to first page when filters change\r\n    memberFilter() {\r\n      this.currentPage = 1;\r\n    },\r\n    typeFilter() {\r\n      this.currentPage = 1;\r\n    },\r\n    dateFrom() {\r\n      this.currentPage = 1;\r\n    },\r\n    dateTo() {\r\n      this.currentPage = 1;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.transaction-history-container {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n  font-family: 'Sarabun', sans-serif;\r\n}\r\n\r\nh1 {\r\n  text-align: center;\r\n  color: #2c3e50;\r\n  margin-bottom: 30px;\r\n  font-size: 28px;\r\n}\r\n\r\n/* Filters */\r\n.filters {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 15px;\r\n  background-color: #f9f9f9;\r\n  padding: 15px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n  margin-bottom: 20px;\r\n  align-items: flex-end;\r\n}\r\n\r\n.filter-group {\r\n  flex: 1;\r\n  min-width: 200px;\r\n}\r\n\r\nlabel {\r\n  display: block;\r\n  margin-bottom: 8px;\r\n  font-weight: bold;\r\n  color: #333;\r\n}\r\n\r\nselect, input {\r\n  width: 100%;\r\n  padding: 10px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  font-size: 16px;\r\n  background-color: white;\r\n}\r\n\r\n.date-range {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.date-range input {\r\n  flex: 1;\r\n}\r\n\r\n.btn-reset {\r\n  background-color: #f44336;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  padding: 10px 15px;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  transition: background-color 0.3s;\r\n  height: 42px;\r\n}\r\n\r\n.btn-reset:hover {\r\n  background-color: #d32f2f;\r\n}\r\n\r\n/* Summary */\r\n.summary {\r\n  display: flex;\r\n  gap: 15px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.summary-card {\r\n  flex: 1;\r\n  background-color: white;\r\n  padding: 15px;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n  text-align: center;\r\n}\r\n\r\n.summary-title {\r\n  font-weight: bold;\r\n  margin-bottom: 10px;\r\n  color: #555;\r\n}\r\n\r\n.summary-value {\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n}\r\n\r\n.summary-value.disbursement {\r\n  color: #4CAF50;\r\n}\r\n\r\n.summary-value.repayment {\r\n  color: #f44336;\r\n}\r\n\r\n/* Table */\r\n.table-container {\r\n  background-color: white;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n  overflow: hidden;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.transaction-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n}\r\n\r\n.transaction-table th, .transaction-table td {\r\n  padding: 12px 15px;\r\n  text-align: left;\r\n  border-bottom: 1px solid #eee;\r\n}\r\n\r\n.transaction-table th {\r\n  background-color: #f5f5f5;\r\n  font-weight: bold;\r\n  color: #333;\r\n  cursor: pointer;\r\n  position: relative;\r\n}\r\n\r\n.transaction-table th:hover {\r\n  background-color: #e9ecef;\r\n}\r\n\r\n.sort-asc::after {\r\n  content: \" ▲\";\r\n  font-size: 0.8em;\r\n}\r\n\r\n.sort-desc::after {\r\n  content: \" ▼\";\r\n  font-size: 0.8em;\r\n}\r\n\r\n.loading, .no-data {\r\n  text-align: center;\r\n  padding: 30px;\r\n  color: #666;\r\n}\r\n\r\n.amount-positive {\r\n  color: #4CAF50;\r\n  font-weight: bold;\r\n}\r\n\r\n.amount-negative {\r\n  color: #f44336;\r\n  font-weight: bold;\r\n}\r\n\r\n/* Pagination */\r\n.pagination {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 15px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.page-btn {\r\n  background-color: #2196F3;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  padding: 8px 15px;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  transition: background-color 0.3s;\r\n}\r\n\r\n.page-btn:hover:not(.disabled) {\r\n  background-color: #0b7dda;\r\n}\r\n\r\n.page-btn.disabled {\r\n  background-color: #ccc;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.page-info {\r\n  font-size: 16px;\r\n  color: #555;\r\n}\r\n\r\n/* Export actions */\r\n.export-actions {\r\n  text-align: center;\r\n  margin-top: 20px;\r\n}\r\n\r\n.btn-export {\r\n  background-color: #4CAF50;\r\n  color: white;\r\n  border: none;\r\n  border-radius: 4px;\r\n  padding: 10px 20px;\r\n  cursor: pointer;\r\n  font-size: 16px;\r\n  transition: background-color 0.3s;\r\n}\r\n\r\n.btn-export:hover {\r\n  background-color: #45a049;\r\n}\r\n\r\n/* Responsive */\r\n@media (max-width: 768px) {\r\n  .filters {\r\n    flex-direction: column;\r\n  }\r\n  \r\n  .filter-group {\r\n    width: 100%;\r\n  }\r\n  \r\n  .summary {\r\n    flex-wrap: wrap;\r\n  }\r\n  \r\n  .summary-card {\r\n    min-width: calc(50% - 15px);\r\n    margin-bottom: 15px;\r\n  }\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}