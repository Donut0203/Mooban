{"ast":null,"code":"export default {\n  name: 'UnauthorizedView',\n  data() {\n    return {\n      showDebugInfo: false\n    };\n  },\n  computed: {\n    requiredRole() {\n      return this.$route.query.requiredRole || '';\n    },\n    userStatus() {\n      return this.$route.query.userStatus || localStorage.getItem('status') || localStorage.getItem('userStatus') || '';\n    },\n    userId() {\n      return this.$route.query.userId || localStorage.getItem('userId') || '';\n    }\n  },\n  methods: {\n    toggleDebugInfo() {\n      this.showDebugInfo = !this.showDebugInfo;\n    },\n    logout() {\n      localStorage.removeItem('token');\n      localStorage.removeItem('userId');\n      localStorage.removeItem('email');\n      localStorage.removeItem('status');\n      localStorage.removeItem('userStatus');\n      this.$router.push('/login');\n    },\n    updateStatus() {\n      // Update status in localStorage\n      localStorage.setItem('status', 'headman');\n\n      // Show success message\n      alert('Status updated to headman. Redirecting to home page...');\n\n      // Redirect to home\n      this.$router.push('/');\n    }\n  }\n};","map":{"version":3,"names":["name","data","showDebugInfo","computed","requiredRole","$route","query","userStatus","localStorage","getItem","userId","methods","toggleDebugInfo","logout","removeItem","$router","push","updateStatus","setItem","alert"],"sources":["C:\\Users\\ADMIN\\Mooban\\frontend\\src\\views\\UnauthorizedView.vue"],"sourcesContent":["<template>\r\n  <div class=\"unauthorized\">\r\n    <h1>Unauthorized Access</h1>\r\n    <div class=\"message-container\">\r\n      <div class=\"alert alert-danger\">\r\n        <p>You do not have permission to access this page.</p>\r\n        <p v-if=\"requiredRole\">This feature is only available to users with <strong>{{ requiredRole }}</strong> role.</p>\r\n        <div v-if=\"showDebugInfo\" class=\"debug-info\">\r\n          <h3>Debug Information</h3>\r\n          <p>Your current role: <strong>{{ userStatus || 'None' }}</strong></p>\r\n          <p>Your user ID: <strong>{{ userId || 'Unknown' }}</strong></p>\r\n          <p>If you believe this is an error, please contact the administrator.</p>\r\n          <div class=\"fix-instructions\" v-if=\"userId === '18' || userId === '20'\">\r\n            <h4>Special Instructions for User ID {{ userId }}</h4>\r\n            <p>As a special user, you should have headman privileges. Try the following:</p>\r\n            <ol>\r\n              <li>Log out and log back in</li>\r\n              <li>Clear your browser cache and cookies</li>\r\n              <li>Click the button below to update your status</li>\r\n            </ol>\r\n            <button @click=\"updateStatus\" class=\"btn btn-warning\">Update My Status to Headman</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"actions\">\r\n        <button @click=\"toggleDebugInfo\" class=\"btn btn-secondary\">\r\n          {{ showDebugInfo ? 'Hide Debug Info' : 'Show Debug Info' }}\r\n        </button>\r\n        <router-link to=\"/\" class=\"btn btn-primary\">Return to Home</router-link>\r\n        <button @click=\"logout\" class=\"btn btn-danger\">Logout</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'UnauthorizedView',\r\n  data() {\r\n    return {\r\n      showDebugInfo: false\r\n    }\r\n  },\r\n  computed: {\r\n    requiredRole() {\r\n      return this.$route.query.requiredRole || '';\r\n    },\r\n    userStatus() {\r\n      return this.$route.query.userStatus || localStorage.getItem('status') || localStorage.getItem('userStatus') || '';\r\n    },\r\n    userId() {\r\n      return this.$route.query.userId || localStorage.getItem('userId') || '';\r\n    }\r\n  },\r\n  methods: {\r\n    toggleDebugInfo() {\r\n      this.showDebugInfo = !this.showDebugInfo;\r\n    },\r\n    logout() {\r\n      localStorage.removeItem('token');\r\n      localStorage.removeItem('userId');\r\n      localStorage.removeItem('email');\r\n      localStorage.removeItem('status');\r\n      localStorage.removeItem('userStatus');\r\n      this.$router.push('/login');\r\n    },\r\n    updateStatus() {\r\n      // Update status in localStorage\r\n      localStorage.setItem('status', 'headman');\r\n      \r\n      // Show success message\r\n      alert('Status updated to headman. Redirecting to home page...');\r\n      \r\n      // Redirect to home\r\n      this.$router.push('/');\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.unauthorized {\r\n  max-width: 600px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n}\r\n\r\n.message-container {\r\n  background-color: #f8f9fa;\r\n  border-radius: 8px;\r\n  padding: 20px;\r\n  margin-top: 20px;\r\n}\r\n\r\n.alert {\r\n  padding: 15px;\r\n  border-radius: 4px;\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.alert-danger {\r\n  background-color: #f8d7da;\r\n  border: 1px solid #f5c6cb;\r\n  color: #721c24;\r\n}\r\n\r\n.debug-info {\r\n  margin-top: 20px;\r\n  padding: 15px;\r\n  background-color: #f0f0f0;\r\n  border-radius: 4px;\r\n  border-left: 4px solid #007bff;\r\n}\r\n\r\n.fix-instructions {\r\n  margin-top: 15px;\r\n  padding: 15px;\r\n  background-color: #fff3cd;\r\n  border-radius: 4px;\r\n  border-left: 4px solid #ffc107;\r\n}\r\n\r\n.actions {\r\n  margin-top: 20px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.btn {\r\n  display: inline-block;\r\n  font-weight: 400;\r\n  text-align: center;\r\n  white-space: nowrap;\r\n  vertical-align: middle;\r\n  user-select: none;\r\n  border: 1px solid transparent;\r\n  padding: 0.375rem 0.75rem;\r\n  font-size: 1rem;\r\n  line-height: 1.5;\r\n  border-radius: 0.25rem;\r\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n}\r\n\r\n.btn-primary {\r\n  color: #fff;\r\n  background-color: #007bff;\r\n  border-color: #007bff;\r\n}\r\n\r\n.btn-secondary {\r\n  color: #fff;\r\n  background-color: #6c757d;\r\n  border-color: #6c757d;\r\n}\r\n\r\n.btn-danger {\r\n  color: #fff;\r\n  background-color: #dc3545;\r\n  border-color: #dc3545;\r\n}\r\n\r\n.btn-warning {\r\n  color: #212529;\r\n  background-color: #ffc107;\r\n  border-color: #ffc107;\r\n}\r\n\r\n.btn:hover {\r\n  opacity: 0.9;\r\n}\r\n</style>"],"mappings":"AAoCA,eAAe;EACbA,IAAI,EAAE,kBAAkB;EACxBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,aAAa,EAAE;IACjB;EACF,CAAC;EACDC,QAAQ,EAAE;IACRC,YAAYA,CAAA,EAAG;MACb,OAAO,IAAI,CAACC,MAAM,CAACC,KAAK,CAACF,YAAW,IAAK,EAAE;IAC7C,CAAC;IACDG,UAAUA,CAAA,EAAG;MACX,OAAO,IAAI,CAACF,MAAM,CAACC,KAAK,CAACC,UAAS,IAAKC,YAAY,CAACC,OAAO,CAAC,QAAQ,KAAKD,YAAY,CAACC,OAAO,CAAC,YAAY,KAAK,EAAE;IACnH,CAAC;IACDC,MAAMA,CAAA,EAAG;MACP,OAAO,IAAI,CAACL,MAAM,CAACC,KAAK,CAACI,MAAK,IAAKF,YAAY,CAACC,OAAO,CAAC,QAAQ,KAAK,EAAE;IACzE;EACF,CAAC;EACDE,OAAO,EAAE;IACPC,eAAeA,CAAA,EAAG;MAChB,IAAI,CAACV,aAAY,GAAI,CAAC,IAAI,CAACA,aAAa;IAC1C,CAAC;IACDW,MAAMA,CAAA,EAAG;MACPL,YAAY,CAACM,UAAU,CAAC,OAAO,CAAC;MAChCN,YAAY,CAACM,UAAU,CAAC,QAAQ,CAAC;MACjCN,YAAY,CAACM,UAAU,CAAC,OAAO,CAAC;MAChCN,YAAY,CAACM,UAAU,CAAC,QAAQ,CAAC;MACjCN,YAAY,CAACM,UAAU,CAAC,YAAY,CAAC;MACrC,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,QAAQ,CAAC;IAC7B,CAAC;IACDC,YAAYA,CAAA,EAAG;MACb;MACAT,YAAY,CAACU,OAAO,CAAC,QAAQ,EAAE,SAAS,CAAC;;MAEzC;MACAC,KAAK,CAAC,wDAAwD,CAAC;;MAE/D;MACA,IAAI,CAACJ,OAAO,CAACC,IAAI,CAAC,GAAG,CAAC;IACxB;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}