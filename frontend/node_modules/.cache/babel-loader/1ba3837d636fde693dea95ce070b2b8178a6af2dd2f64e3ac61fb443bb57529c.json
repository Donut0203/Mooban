{"ast":null,"code":"import api from '@/services/api';\nexport default {\n  name: 'AllUsersView',\n  data() {\n    return {\n      users: [],\n      approvers: {},\n      // Map of user IDs to names for approvers\n      loading: true,\n      error: null,\n      searchQuery: '',\n      statusFilter: '',\n      sortKey: 'user_id',\n      sortOrder: 1,\n      // 1 for ascending, -1 for descending\n      selectedUser: null,\n      editingUser: null,\n      userToDelete: null,\n      currentUserStatus: localStorage.getItem('userStatus') || ''\n    };\n  },\n  computed: {\n    filteredUsers() {\n      let result = [...this.users];\n\n      // Apply search filter - only by Full Name\n      if (this.searchQuery) {\n        const query = this.searchQuery.toLowerCase();\n        result = result.filter(user => {\n          const fullName = `${user.first_name} ${user.last_name}`.toLowerCase();\n          return fullName.includes(query);\n        });\n      }\n\n      // Apply status filter\n      if (this.statusFilter) {\n        result = result.filter(user => user.status === this.statusFilter);\n      }\n\n      // Apply sorting\n      result.sort((a, b) => {\n        let valueA, valueB;\n        if (this.sortKey === 'fullName') {\n          valueA = `${a.first_name} ${a.last_name}`.toLowerCase();\n          valueB = `${b.first_name} ${b.last_name}`.toLowerCase();\n        } else {\n          valueA = a[this.sortKey];\n          valueB = b[this.sortKey];\n\n          // Handle null or undefined values\n          if (valueA === null || valueA === undefined) valueA = '';\n          if (valueB === null || valueB === undefined) valueB = '';\n\n          // Convert to lowercase if string\n          if (typeof valueA === 'string') valueA = valueA.toLowerCase();\n          if (typeof valueB === 'string') valueB = valueB.toLowerCase();\n        }\n        if (valueA < valueB) return -1 * this.sortOrder;\n        if (valueA > valueB) return 1 * this.sortOrder;\n        return 0;\n      });\n      return result;\n    }\n  },\n  methods: {\n    async fetchUsers() {\n      this.loading = true;\n      try {\n        const response = await api.getAllUsers();\n        this.users = response.data.users;\n\n        // Extract unique approver IDs\n        const approverIds = [...new Set(this.users.filter(user => user.approved_by).map(user => user.approved_by))];\n\n        // Fetch approver names\n        for (const approverId of approverIds) {\n          try {\n            const response = await api.getUserById(approverId);\n            const approver = response.data;\n            this.approvers[approverId] = `${approver.first_name} ${approver.last_name}`;\n          } catch (error) {\n            console.error(`Error fetching approver ${approverId}:`, error);\n            this.approvers[approverId] = `User #${approverId}`;\n          }\n        }\n      } catch (error) {\n        console.error('Error fetching users:', error);\n        this.error = 'Failed to load users. Please try again.';\n      } finally {\n        this.loading = false;\n      }\n    },\n    sortBy(key) {\n      if (this.sortKey === key) {\n        // If already sorting by this key, reverse the order\n        this.sortOrder = -this.sortOrder;\n      } else {\n        // Otherwise, sort by the new key in ascending order\n        this.sortKey = key;\n        this.sortOrder = 1;\n      }\n    },\n    formatStatus(status) {\n      if (!status) return 'Unknown';\n\n      // Capitalize first letter\n      return status.charAt(0).toUpperCase() + status.slice(1);\n    },\n    getStatusClass(status) {\n      if (!status) return 'status-unknown';\n      switch (status.toLowerCase()) {\n        case 'headman':\n          return 'status-headman';\n        case 'assistant':\n          return 'status-assistant';\n        case 'villager':\n          return 'status-villager';\n        case 'pending':\n          return 'status-pending';\n        default:\n          return 'status-unknown';\n      }\n    },\n    formatDate(dateString) {\n      if (!dateString) return 'N/A';\n      const date = new Date(dateString);\n      return date.toLocaleString();\n    },\n    getApproverName(approverId) {\n      return this.approvers[approverId] || `User #${approverId}`;\n    },\n    viewUser(user) {\n      this.selectedUser = {\n        ...user\n      };\n    },\n    editUser(user) {\n      this.editingUser = {\n        ...user\n      };\n    },\n    cancelEdit() {\n      this.editingUser = null;\n    },\n    async saveUser() {\n      try {\n        await api.updateUser(this.editingUser.user_id, {\n          firstName: this.editingUser.first_name,\n          lastName: this.editingUser.last_name,\n          email: this.editingUser.user_email,\n          phone: this.editingUser.phone,\n          address: this.editingUser.address,\n          status: this.editingUser.status\n        });\n\n        // Update the user in the local array\n        const index = this.users.findIndex(u => u.user_id === this.editingUser.user_id);\n        if (index !== -1) {\n          this.users[index] = {\n            ...this.editingUser\n          };\n        }\n        this.editingUser = null;\n      } catch (error) {\n        console.error('Error updating user:', error);\n        alert('Failed to update user. Please try again.');\n      }\n    },\n    confirmDelete(user) {\n      this.userToDelete = {\n        ...user\n      };\n    },\n    async deleteUser() {\n      try {\n        await api.deleteUser(this.userToDelete.user_id);\n\n        // Remove the user from the local array\n        this.users = this.users.filter(u => u.user_id !== this.userToDelete.user_id);\n        this.userToDelete = null;\n      } catch (error) {\n        console.error('Error deleting user:', error);\n        alert('Failed to delete user. Please try again.');\n      }\n    }\n  },\n  mounted() {\n    // Check if user is logged in\n    const token = localStorage.getItem('token');\n    if (!token) {\n      // Redirect to login page if not logged in\n      window.location.href = '/login';\n      return;\n    }\n    this.fetchUsers();\n  }\n};","map":{"version":3,"names":["api","name","data","users","approvers","loading","error","searchQuery","statusFilter","sortKey","sortOrder","selectedUser","editingUser","userToDelete","currentUserStatus","localStorage","getItem","computed","filteredUsers","result","query","toLowerCase","filter","user","fullName","first_name","last_name","includes","status","sort","a","b","valueA","valueB","undefined","methods","fetchUsers","response","getAllUsers","approverIds","Set","approved_by","map","approverId","getUserById","approver","console","sortBy","key","formatStatus","charAt","toUpperCase","slice","getStatusClass","formatDate","dateString","date","Date","toLocaleString","getApproverName","viewUser","editUser","cancelEdit","saveUser","updateUser","user_id","firstName","lastName","email","user_email","phone","address","index","findIndex","u","alert","confirmDelete","deleteUser","mounted","token","window","location","href"],"sources":["C:\\Users\\HP\\Documents\\mooban4\\frontend\\src\\views\\AllUsersView.vue"],"sourcesContent":["<template>\r\n  <div class=\"all-users\">\r\n    <h1>All Employees</h1>\r\n    \r\n    <div class=\"filters\">\r\n      <input\r\n        type=\"text\"\r\n        v-model=\"searchQuery\"\r\n        placeholder=\"Search by Full Name...\"\r\n        class=\"search-input\"\r\n      />\r\n\r\n      <select v-model=\"statusFilter\" class=\"status-filter\">\r\n        <option value=\"\">All Statuses</option>\r\n        <option value=\"headman\">Headman</option>\r\n        <option value=\"assistant\">Assistant</option>\r\n        <option value=\"villager\">Villager</option>\r\n        <option value=\"pending\">Pending</option>\r\n      </select>\r\n    </div>\r\n    \r\n    <div class=\"table-container\">\r\n      <table class=\"users-table\">\r\n        <thead>\r\n          <tr>\r\n            <th @click=\"sortBy('user_id')\" class=\"sortable\">\r\n              ID <span v-if=\"sortKey === 'user_id'\" :class=\"sortOrder === 1 ? 'asc' : 'desc'\"></span>\r\n            </th>\r\n            <th @click=\"sortBy('fullName')\" class=\"sortable\">\r\n              Full Name <span v-if=\"sortKey === 'fullName'\" :class=\"sortOrder === 1 ? 'asc' : 'desc'\"></span>\r\n            </th>\r\n            <th @click=\"sortBy('phone')\" class=\"sortable\">\r\n              Phone <span v-if=\"sortKey === 'phone'\" :class=\"sortOrder === 1 ? 'asc' : 'desc'\"></span>\r\n            </th>\r\n            <th @click=\"sortBy('status')\" class=\"sortable\">\r\n              Status <span v-if=\"sortKey === 'status'\" :class=\"sortOrder === 1 ? 'asc' : 'desc'\"></span>\r\n            </th>\r\n            <th>Approved By</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-if=\"loading\" class=\"loading-row\">\r\n            <td colspan=\"6\">Loading users...</td>\r\n          </tr>\r\n          <tr v-else-if=\"filteredUsers.length === 0\" class=\"empty-row\">\r\n            <td colspan=\"6\">No users found</td>\r\n          </tr>\r\n          <tr v-for=\"user in filteredUsers\" :key=\"user.user_id\">\r\n            <td>{{ user.user_id }}</td>\r\n            <td>{{ user.first_name }} {{ user.last_name }}</td>\r\n            <td>{{ user.phone || 'N/A' }}</td>\r\n            <td>\r\n              <span class=\"status-badge\" :class=\"getStatusClass(user.status)\">\r\n                {{ formatStatus(user.status) }}\r\n              </span>\r\n            </td>\r\n            <td>\r\n              <span v-if=\"user.approved_by\">\r\n                {{ getApproverName(user.approved_by) }}\r\n                <br>\r\n                <small>{{ formatDate(user.approval_date) }}</small>\r\n              </span>\r\n              <span v-else>Not approved yet</span>\r\n            </td>\r\n            <td class=\"actions\">\r\n              <button @click=\"viewUser(user)\" class=\"btn btn-info\">View</button>\r\n              <button @click=\"editUser(user)\" class=\"btn btn-primary\">Edit</button>\r\n              <button \r\n                v-if=\"currentUserStatus === 'headman'\" \r\n                @click=\"confirmDelete(user)\" \r\n                class=\"btn btn-danger\"\r\n              >\r\n                Delete\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    \r\n    <!-- User Details Modal -->\r\n    <div v-if=\"selectedUser\" class=\"modal\">\r\n      <div class=\"modal-content\">\r\n        <span class=\"close\" @click=\"selectedUser = null\">&times;</span>\r\n        <h2>User Details</h2>\r\n        <div class=\"user-details\">\r\n          <div class=\"detail-row\">\r\n            <div class=\"detail-label\">ID:</div>\r\n            <div class=\"detail-value\">{{ selectedUser.user_id }}</div>\r\n          </div>\r\n          <div class=\"detail-row\">\r\n            <div class=\"detail-label\">Email:</div>\r\n            <div class=\"detail-value\">{{ selectedUser.user_email }}</div>\r\n          </div>\r\n          <div class=\"detail-row\">\r\n            <div class=\"detail-label\">Name:</div>\r\n            <div class=\"detail-value\">{{ selectedUser.first_name }} {{ selectedUser.last_name }}</div>\r\n          </div>\r\n          <div class=\"detail-row\">\r\n            <div class=\"detail-label\">Phone:</div>\r\n            <div class=\"detail-value\">{{ selectedUser.phone || 'N/A' }}</div>\r\n          </div>\r\n          <div class=\"detail-row\">\r\n            <div class=\"detail-label\">Address:</div>\r\n            <div class=\"detail-value\">{{ selectedUser.address || 'N/A' }}</div>\r\n          </div>\r\n          <div class=\"detail-row\">\r\n            <div class=\"detail-label\">Status:</div>\r\n            <div class=\"detail-value\">\r\n              <span class=\"status-badge\" :class=\"getStatusClass(selectedUser.status)\">\r\n                {{ formatStatus(selectedUser.status) }}\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div class=\"detail-row\">\r\n            <div class=\"detail-label\">Approved:</div>\r\n            <div class=\"detail-value\">{{ selectedUser.is_approved ? 'Yes' : 'No' }}</div>\r\n          </div>\r\n          <div class=\"detail-row\" v-if=\"selectedUser.approved_by\">\r\n            <div class=\"detail-label\">Approved By:</div>\r\n            <div class=\"detail-value\">{{ getApproverName(selectedUser.approved_by) }}</div>\r\n          </div>\r\n          <div class=\"detail-row\" v-if=\"selectedUser.approval_date\">\r\n            <div class=\"detail-label\">Approval Date:</div>\r\n            <div class=\"detail-value\">{{ formatDate(selectedUser.approval_date) }}</div>\r\n          </div>\r\n          <div class=\"detail-row\">\r\n            <div class=\"detail-label\">Created:</div>\r\n            <div class=\"detail-value\">{{ formatDate(selectedUser.created_at) }}</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- Edit User Modal -->\r\n    <div v-if=\"editingUser\" class=\"modal\">\r\n      <div class=\"modal-content\">\r\n        <span class=\"close\" @click=\"cancelEdit\">&times;</span>\r\n        <h2>Edit User</h2>\r\n        <form @submit.prevent=\"saveUser\" class=\"edit-form\">\r\n          <div class=\"form-group\">\r\n            <label for=\"firstName\">First Name</label>\r\n            <input type=\"text\" id=\"firstName\" v-model=\"editingUser.first_name\" required>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"lastName\">Last Name</label>\r\n            <input type=\"text\" id=\"lastName\" v-model=\"editingUser.last_name\" required>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"email\">Email</label>\r\n            <input type=\"email\" id=\"email\" v-model=\"editingUser.user_email\" required>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"phone\">Phone</label>\r\n            <input type=\"tel\" id=\"phone\" v-model=\"editingUser.phone\">\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"address\">Address</label>\r\n            <textarea id=\"address\" v-model=\"editingUser.address\"></textarea>\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label for=\"status\">Status</label>\r\n            <select id=\"status\" v-model=\"editingUser.status\" required>\r\n              <option value=\"headman\">Headman</option>\r\n              <option value=\"assistant\">Assistant</option>\r\n              <option value=\"villager\">Villager</option>\r\n              <option value=\"pending\">Pending</option>\r\n            </select>\r\n          </div>\r\n          <div class=\"form-actions\">\r\n            <button type=\"button\" @click=\"cancelEdit\" class=\"btn btn-secondary\">Cancel</button>\r\n            <button type=\"submit\" class=\"btn btn-primary\">Save Changes</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- Delete Confirmation Modal -->\r\n    <div v-if=\"userToDelete\" class=\"modal\">\r\n      <div class=\"modal-content\">\r\n        <span class=\"close\" @click=\"userToDelete = null\">&times;</span>\r\n        <h2>Confirm Delete</h2>\r\n        <p>Are you sure you want to delete {{ userToDelete.first_name }} {{ userToDelete.last_name }}?</p>\r\n        <p class=\"warning\">This action cannot be undone.</p>\r\n        <div class=\"form-actions\">\r\n          <button @click=\"userToDelete = null\" class=\"btn btn-secondary\">Cancel</button>\r\n          <button @click=\"deleteUser\" class=\"btn btn-danger\">Delete</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport api from '@/services/api';\r\n\r\nexport default {\r\n  name: 'AllUsersView',\r\n  data() {\r\n    return {\r\n      users: [],\r\n      approvers: {}, // Map of user IDs to names for approvers\r\n      loading: true,\r\n      error: null,\r\n      searchQuery: '',\r\n      statusFilter: '',\r\n      sortKey: 'user_id',\r\n      sortOrder: 1, // 1 for ascending, -1 for descending\r\n      selectedUser: null,\r\n      editingUser: null,\r\n      userToDelete: null,\r\n      currentUserStatus: localStorage.getItem('userStatus') || ''\r\n    };\r\n  },\r\n  computed: {\r\n    filteredUsers() {\r\n      let result = [...this.users];\r\n      \r\n      // Apply search filter - only by Full Name\r\n      if (this.searchQuery) {\r\n        const query = this.searchQuery.toLowerCase();\r\n        result = result.filter(user => {\r\n          const fullName = `${user.first_name} ${user.last_name}`.toLowerCase();\r\n          return fullName.includes(query);\r\n        });\r\n      }\r\n      \r\n      // Apply status filter\r\n      if (this.statusFilter) {\r\n        result = result.filter(user => user.status === this.statusFilter);\r\n      }\r\n      \r\n      // Apply sorting\r\n      result.sort((a, b) => {\r\n        let valueA, valueB;\r\n        \r\n        if (this.sortKey === 'fullName') {\r\n          valueA = `${a.first_name} ${a.last_name}`.toLowerCase();\r\n          valueB = `${b.first_name} ${b.last_name}`.toLowerCase();\r\n        } else {\r\n          valueA = a[this.sortKey];\r\n          valueB = b[this.sortKey];\r\n          \r\n          // Handle null or undefined values\r\n          if (valueA === null || valueA === undefined) valueA = '';\r\n          if (valueB === null || valueB === undefined) valueB = '';\r\n          \r\n          // Convert to lowercase if string\r\n          if (typeof valueA === 'string') valueA = valueA.toLowerCase();\r\n          if (typeof valueB === 'string') valueB = valueB.toLowerCase();\r\n        }\r\n        \r\n        if (valueA < valueB) return -1 * this.sortOrder;\r\n        if (valueA > valueB) return 1 * this.sortOrder;\r\n        return 0;\r\n      });\r\n      \r\n      return result;\r\n    }\r\n  },\r\n  methods: {\r\n    async fetchUsers() {\r\n      this.loading = true;\r\n      try {\r\n        const response = await api.getAllUsers();\r\n        this.users = response.data.users;\r\n        \r\n        // Extract unique approver IDs\r\n        const approverIds = [...new Set(\r\n          this.users\r\n            .filter(user => user.approved_by)\r\n            .map(user => user.approved_by)\r\n        )];\r\n        \r\n        // Fetch approver names\r\n        for (const approverId of approverIds) {\r\n          try {\r\n            const response = await api.getUserById(approverId);\r\n            const approver = response.data;\r\n            this.approvers[approverId] = `${approver.first_name} ${approver.last_name}`;\r\n          } catch (error) {\r\n            console.error(`Error fetching approver ${approverId}:`, error);\r\n            this.approvers[approverId] = `User #${approverId}`;\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error('Error fetching users:', error);\r\n        this.error = 'Failed to load users. Please try again.';\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    sortBy(key) {\r\n      if (this.sortKey === key) {\r\n        // If already sorting by this key, reverse the order\r\n        this.sortOrder = -this.sortOrder;\r\n      } else {\r\n        // Otherwise, sort by the new key in ascending order\r\n        this.sortKey = key;\r\n        this.sortOrder = 1;\r\n      }\r\n    },\r\n    formatStatus(status) {\r\n      if (!status) return 'Unknown';\r\n      \r\n      // Capitalize first letter\r\n      return status.charAt(0).toUpperCase() + status.slice(1);\r\n    },\r\n    getStatusClass(status) {\r\n      if (!status) return 'status-unknown';\r\n      \r\n      switch(status.toLowerCase()) {\r\n        case 'headman': return 'status-headman';\r\n        case 'assistant': return 'status-assistant';\r\n        case 'villager': return 'status-villager';\r\n        case 'pending': return 'status-pending';\r\n        default: return 'status-unknown';\r\n      }\r\n    },\r\n    formatDate(dateString) {\r\n      if (!dateString) return 'N/A';\r\n      \r\n      const date = new Date(dateString);\r\n      return date.toLocaleString();\r\n    },\r\n    getApproverName(approverId) {\r\n      return this.approvers[approverId] || `User #${approverId}`;\r\n    },\r\n    viewUser(user) {\r\n      this.selectedUser = { ...user };\r\n    },\r\n    editUser(user) {\r\n      this.editingUser = { ...user };\r\n    },\r\n    cancelEdit() {\r\n      this.editingUser = null;\r\n    },\r\n    async saveUser() {\r\n      try {\r\n        await api.updateUser(this.editingUser.user_id, {\r\n          firstName: this.editingUser.first_name,\r\n          lastName: this.editingUser.last_name,\r\n          email: this.editingUser.user_email,\r\n          phone: this.editingUser.phone,\r\n          address: this.editingUser.address,\r\n          status: this.editingUser.status\r\n        });\r\n        \r\n        // Update the user in the local array\r\n        const index = this.users.findIndex(u => u.user_id === this.editingUser.user_id);\r\n        if (index !== -1) {\r\n          this.users[index] = { ...this.editingUser };\r\n        }\r\n        \r\n        this.editingUser = null;\r\n      } catch (error) {\r\n        console.error('Error updating user:', error);\r\n        alert('Failed to update user. Please try again.');\r\n      }\r\n    },\r\n    confirmDelete(user) {\r\n      this.userToDelete = { ...user };\r\n    },\r\n    async deleteUser() {\r\n      try {\r\n        await api.deleteUser(this.userToDelete.user_id);\r\n        \r\n        // Remove the user from the local array\r\n        this.users = this.users.filter(u => u.user_id !== this.userToDelete.user_id);\r\n        \r\n        this.userToDelete = null;\r\n      } catch (error) {\r\n        console.error('Error deleting user:', error);\r\n        alert('Failed to delete user. Please try again.');\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    // Check if user is logged in\r\n    const token = localStorage.getItem('token');\r\n    if (!token) {\r\n      // Redirect to login page if not logged in\r\n      window.location.href = '/login';\r\n      return;\r\n    }\r\n\r\n    this.fetchUsers();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.all-users {\r\n  width: 100%;\r\n  padding: 0;\r\n}\r\n\r\nh1 {\r\n  margin-bottom: 20px;\r\n  color: #333;\r\n}\r\n\r\n.filters {\r\n  display: flex;\r\n  margin-bottom: 20px;\r\n  gap: 10px;\r\n}\r\n\r\n.search-input {\r\n  flex: 1;\r\n  padding: 8px 12px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n}\r\n\r\n.status-filter {\r\n  padding: 8px 12px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  min-width: 150px;\r\n}\r\n\r\n.table-container {\r\n  overflow-x: auto;\r\n  background-color: white;\r\n  border-radius: 8px;\r\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.users-table {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n}\r\n\r\n.users-table th, .users-table td {\r\n  padding: 12px 15px;\r\n  text-align: left;\r\n  border-bottom: 1px solid #eee;\r\n}\r\n\r\n.users-table th {\r\n  background-color: #f8f9fa;\r\n  font-weight: bold;\r\n  color: #495057;\r\n}\r\n\r\n.users-table tr:hover {\r\n  background-color: #f5f5f5;\r\n}\r\n\r\n.sortable {\r\n  cursor: pointer;\r\n  position: relative;\r\n}\r\n\r\n.sortable:hover {\r\n  background-color: #e9ecef;\r\n}\r\n\r\n.asc::after {\r\n  content: \" ▲\";\r\n  font-size: 0.8em;\r\n}\r\n\r\n.desc::after {\r\n  content: \" ▼\";\r\n  font-size: 0.8em;\r\n}\r\n\r\n.loading-row td, .empty-row td {\r\n  text-align: center;\r\n  padding: 30px;\r\n  color: #6c757d;\r\n}\r\n\r\n.status-badge {\r\n  display: inline-block;\r\n  padding: 4px 8px;\r\n  border-radius: 4px;\r\n  font-size: 0.85em;\r\n  font-weight: bold;\r\n}\r\n\r\n.status-headman {\r\n  background-color: #cce5ff;\r\n  color: #004085;\r\n}\r\n\r\n.status-assistant {\r\n  background-color: #d4edda;\r\n  color: #155724;\r\n}\r\n\r\n.status-villager {\r\n  background-color: #fff3cd;\r\n  color: #856404;\r\n}\r\n\r\n.status-pending {\r\n  background-color: #f8d7da;\r\n  color: #721c24;\r\n}\r\n\r\n.status-unknown {\r\n  background-color: #e2e3e5;\r\n  color: #383d41;\r\n}\r\n\r\n.actions {\r\n  display: flex;\r\n  gap: 5px;\r\n}\r\n\r\n.btn {\r\n  display: inline-block;\r\n  font-weight: 400;\r\n  text-align: center;\r\n  white-space: nowrap;\r\n  vertical-align: middle;\r\n  user-select: none;\r\n  border: 1px solid transparent;\r\n  padding: 6px 12px;\r\n  font-size: 0.9rem;\r\n  line-height: 1.5;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n  transition: all 0.15s ease-in-out;\r\n}\r\n\r\n.btn-info {\r\n  color: #fff;\r\n  background-color: #17a2b8;\r\n  border-color: #17a2b8;\r\n}\r\n\r\n.btn-primary {\r\n  color: #fff;\r\n  background-color: #007bff;\r\n  border-color: #007bff;\r\n}\r\n\r\n.btn-danger {\r\n  color: #fff;\r\n  background-color: #dc3545;\r\n  border-color: #dc3545;\r\n}\r\n\r\n.btn-secondary {\r\n  color: #fff;\r\n  background-color: #6c757d;\r\n  border-color: #6c757d;\r\n}\r\n\r\n.btn:hover {\r\n  opacity: 0.9;\r\n}\r\n\r\n/* Modal styles */\r\n.modal {\r\n  position: fixed;\r\n  z-index: 1000;\r\n  left: 0;\r\n  top: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.modal-content {\r\n  background-color: white;\r\n  padding: 20px;\r\n  border-radius: 8px;\r\n  width: 90%;\r\n  max-width: 600px;\r\n  max-height: 90vh;\r\n  overflow-y: auto;\r\n  position: relative;\r\n}\r\n\r\n.close {\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 15px;\r\n  font-size: 24px;\r\n  font-weight: bold;\r\n  cursor: pointer;\r\n  color: #aaa;\r\n}\r\n\r\n.close:hover {\r\n  color: #333;\r\n}\r\n\r\n/* User details styles */\r\n.user-details {\r\n  margin-top: 20px;\r\n}\r\n\r\n.detail-row {\r\n  display: flex;\r\n  margin-bottom: 10px;\r\n  border-bottom: 1px solid #eee;\r\n  padding-bottom: 10px;\r\n}\r\n\r\n.detail-label {\r\n  font-weight: bold;\r\n  width: 120px;\r\n  color: #495057;\r\n}\r\n\r\n.detail-value {\r\n  flex: 1;\r\n}\r\n\r\n/* Form styles */\r\n.edit-form {\r\n  margin-top: 20px;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.form-group label {\r\n  display: block;\r\n  margin-bottom: 5px;\r\n  font-weight: bold;\r\n  color: #495057;\r\n}\r\n\r\n.form-group input,\r\n.form-group select,\r\n.form-group textarea {\r\n  width: 100%;\r\n  padding: 8px 12px;\r\n  border: 1px solid #ddd;\r\n  border-radius: 4px;\r\n  font-size: 1rem;\r\n}\r\n\r\n.form-group textarea {\r\n  min-height: 80px;\r\n  resize: vertical;\r\n}\r\n\r\n.form-actions {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  gap: 10px;\r\n  margin-top: 20px;\r\n}\r\n\r\n.warning {\r\n  color: #dc3545;\r\n  font-weight: bold;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}